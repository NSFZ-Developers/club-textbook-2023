# 目录
- [目录](#目录)
- [0. 序言](#0-序言)
  - [0.1 条件检查](#01-条件检查)
  - [0.2 本书的适用人群](#02-本书的适用人群)
  - [0.3 本书的特色](#03-本书的特色)
  - [0.4 本书的使用方法](#04-本书的使用方法)
- [1. 编程导论](#1-编程导论)
- [2. 常识](#2-常识)
  - [2.1. 计算机基础](#21-计算机基础)
    - [2.1.1 计算机组成](#211-计算机组成)
    - [2.1.2 数据格式和编码](#212-数据格式和编码)
    - [2.1.3 计算机程序](#213-计算机程序)
  - [2.2 编程语言基础](#22-编程语言基础)
    - [2.2.1 编译型语言和解释型语言](#221-编译型语言和解释型语言)
    - [2.2.2 编程语言的实现](#222-编程语言的实现)
- [3. 从C++开始](#3-从c开始)
  - [3.1 万物起源「Hello World」](#31-万物起源hello-world)
    - [习题](#习题)
- [-1. 结语](#-1-结语)
  - [-1.1 编者的话](#-11-编者的话)


# 0. 序言
本书为NSFZ2023级开发者社教材，旨在帮助读者从零开始学习编程。它将从基础语法、数据类型、流程控制、函数、面向对象编程等方面进行讲解，并结合大量的实例，帮助读者快速掌握编程技能，同时对编程的思想逐步建立理解。
（也可以在[此处](https://github.com/NSFZ-Developers/club-textbook-2023/blob/main/textbook.md)线上阅读）

## 0.1 条件检查
1. 您已满**中华人民共和国法律规定的10周岁**。
2. 您认为您能在[韦克斯勒儿童智力量检测四](https://baike.baidu.com/item/%E9%9F%A6%E6%B0%8F%E5%84%BF%E7%AB%A5%E6%99%BA%E5%8A%9B%E9%87%8F%E8%A1%A8/11069197)中达到正常水平（约80分）。
3. 您没有**令人费解的语言逻辑缺陷**。
4. 您拥有一台**尚可正常开机的**，**外设齐全的个人电脑**。
5. 上述电脑**工作正常**，并**搭载主流操作系统**，一般是Windows（视窗操作系统）。
6. 您的电脑**RAM**大小≥4GB。（RAM的概念见#2.1.1章节）

## 0.2 本书的适用人群
这本书适用于所有想要学习编程的人（~~以及真的愿意花钱弄一本这玩意的实体书的人~~）。无论你是完全没有编程基础的初学者，还是想~~不太~~系统地老年复健的满级巨佬，都可以从本书中获益。

## 0.3 本书的特色
本书的特色主要体现在以下几个方面：

- **注重实用性**：本书的所有内容都以实用为导向，重点讲解与实际应用相关的知识点。
- **循序渐进和突然跳级**：本书将编程知识分为多个阶段进行讲解，循序渐进，让读者能够轻松掌握，并且穿插跳级内容，使读者时刻认识到学无止境。
- **巨™多代码量**：本书配有大量的代码示例，帮助读者理解和应用编程知识。

## 0.4 本书的使用方法
本书可以作为一本自学教程，也可以作为编程课程的辅助教材（~~最好别~~）。如果是自学，建议读者按照书中的章节顺序进行学习，并结合书中的代码示例进行练习。如果是使用本书作为编程课程的辅助教材，建议读者在课堂上认真听讲，并结合本书的内容进行巩固。


# 1. 编程导论
> 程序不过是更详细的需求罢了
> ——沃·兹基·硕德

众所周知，程序是由一条条指令构成的。每一条指令都是电脑的一个基本动作，如“使屏幕上某一个像素点变成某种颜色”，或是“将某个电路接口设置为高/低电平”。人们负责给出这些指令，由计算机**按顺序**完成这一系列指令，便可以达到理想的效果。然而，这里的指令不免过于基本。这时，人们会将用于实现某种功能的一系列指令捆绑在一起，形成一个较基本指令更为高级、简介、实用的指令，这就是编程中一个重要的思想：抽象。抽象思想使得人们避免一些无意义的重复劳动，但这又引入了一个新的问题：计算机不像人拥有如此先进的思想，它实际上只能完成那些最基本的指令，因此我们需要一个工具，将这些利于人们使用的高级指令翻译回计算机能够完成的底层的基础指令。这个工具就是人们使用的各类语言的编译器、解释器等。

因此，编程本质上就是提出需求的过程，需求的简洁程度与抽象程度呈正相关。同时我们可以给出编程的一般过程，即“人类提出需求->工具将抽象的需求翻译为基础指令->计算机执行这些基础指令”。

需要指出的是，本章中使用了大量不准确的说法，目的是便于理解其中的思想，当读者阅读完第二章后，可以对本章内容进行规范化的整合。


# 2. 常识
> 在门外和门内之间，有一个小小的门槛
> ——沃·兹基·硕德

这些内容并不像编程语言的内容等对编程起决定性作用，但它们也是编程中时常会接触到的东西，初学编程的一部分时间总是在了解这些知识上，因此不妨先学习这些内容，再去进行实际编程的学习。

## 2.1. 计算机基础
### 2.1.1 计算机组成
一般来说，计算机有五大组成部分：
- 控制器
- 运算器
- 存储器
- 输入设备
- 输出设备

其中控制器负责控制所有硬件的运行，其他都很好理解，这里不再解释。值得注意的是，存储器分为内部存储和外部存储，后者为常见的硬盘，软盘等，而前者又分为随机存储器（RAM）、只读存储器（ROM）和其他一些存储器。

这里借用维基百科上的一张图片，可以很好的展示这五个部分之间的关系。
![](images/冯·诺依曼架构.png)

前文所说的五大组成部分是逻辑结构，而计算机的实际结构又包含以下几部分：
- 中央处理单元（CPU）
- 图形处理单元（GPU）
- 主板、固件等硬件
- 键盘、屏幕等输入、输出设备

其中CPU对应逻辑结构中的控制器和运算器，是这两个逻辑结构的实现形式。
CPU有几个重要的性能指标，如主频和位宽。主频是描述CPU执行指令速度的量，它的单位即为频率的单位。位宽是CPU在一条指令中可以处理的二进制数据位数，例如32bit、64bit。
CPU有多种不同的实现形式，也就是架构和指令集。常见的架构有ARM系列、x86系列、MIPS系列和PowerPC系列。ARM架构的优势有价格低、能耗低，因此常用于嵌入式开发和手机等。x86架构的优势有兼容性强、性能高，常用于个人计算机。
关于CPU更详细的介绍可以参考以下文章：
https://zhuanlan.zhihu.com/p/245119254
https://zhuanlan.zhihu.com/p/508557771

我们日常生活中所使用的电脑一般是个人计算机（PC），它是计算机的一个主要的子集。按照层级来梳理，个人计算机的层级从底向上依次是硬件、操作系统、应用程序，其中操作系统和应用程序合称软件。在不引起歧义的情况下，有时软件也可仅指应用程序。主流的操作系统有Windows、Ubuntu、CentOS、Alpine等，它们的设计理念有所不同，但对于计算机的作用是类似的，即与硬件直接交互，为程序提供抽象的较高级的接口。

### 2.1.2 数据格式和编码
我们知道，任何数据在计算机中都是以二进制的形式存储的。在操作系统中，数据以文件的形式被组织起来。那么，操作系统或程序是如何将这些文件中的数据（从底层上来说，都是二进制数据）识别为一张图片、一个文档、或是一份代码呢？这就需要数据格式。操作系统依靠文件的一些特殊信息（一般称为元数据）来识别文件的类型。一般有以下几种识别的方式：
- 扩展名：即文件名最后一个`.`之后的内容，在Windows系统中，文件的默认打开方式与扩展名绑定。利用文件名识别的特性使得它易于更改，这既是优点也是缺点。由于扩展名没有官方统一的规定，不同类型的文件可能会使用相同的扩展名，从而在Windows系统中默认打开方式无法很好地分辨。
- 特征签名：即文件头部几个字节的数据，它通常与文件中数据的组织形式强相关。它不易被更改（因为更改后会影响特定程序的读取），所以较扩展名更为可靠。

在很多时候，扩展名和特征签名会同时使用，因为它们被使用的时机和对象不同，存储的位置也不同。

对于一个文本文件，我们有更细致的需求，即将文件中的二进制数据识别为人类可读的，可以显示在屏幕上的字符。这时我们需要建议一个从二进制数据到字符的双向映射，于是就有了字符集。常用的字符集如下：
- ASCII（美国信息交换标准代码）：用一个字节表示一个字符，最初其二进制最高位始终是0，即只能表示128中字符，其中包括大小写字母、一些符号和控制字符。
- ISO8859-1（Latin1）：用一个字节表示一个字符，是对ASCII的扩展，增加了西欧语言、希腊语、泰语、阿拉伯语、希伯来语的符号。但是，由于出现得较晚，欧元符号没有被收录于其中。
- GB2312：1980年中国公布的国家标准，用两个字节表示一个字符，共收录6763个汉字，同时收录了包括拉丁字母、 希腊字母、日文平假名及片假名字母、俄语在内的682个字符
- GBK：用两个字节表示一个字符，在兼容ASCII和GB2312的情况下可以表示的汉字达到了20902个，还有984个汉语标点符号、部首等，其中还包括繁体字。
- GB18030：用四个字节表示一个字符，在兼容以上字符集的情况下新增了大量字符，最新的GB18030-2022标准中收录的汉字达到了87887个，甚至包含了少数民族汉字。
- Unicode（万国码）：用四个字节表示一个字符，由美国加州的Unicode组织提出。Unicode的出现标志着字符集和字符编码的彻底分离，前文的几个既是字符集也是字符编码，而Unicode仅仅是字符集，其常用的字符编码有UTF-8、UTF-16等。

由于Unicode的独特设计，使得它可以包含世界上所有字符。借用CSDN上的一张图片总结：
![](images/字符集.jpg)
关于这些字符集的具体编码方式可以参考这篇文章 https://blog.csdn.net/wn084/article/details/80363792

### 2.1.3 计算机程序
可以直接运行在操作系统中的程序，即本机程序，一般是一个二进制文件，其内容包括实际指令、预定义数据等。大多数还包含导入表，如果程序中调用了操作系统中或是其他程序中的代码，那么需要导入表来标示代码的位置。
还有一类文件和本机程序的表现类似，例如在Windows系统下，如果安装了Python环境，那么可以直接双击一个`.py`文件来运行它，就像本机程序一样。但实际上这类文件并不是一个真正的程序，而是与它的运行环境绑定后得以实现的功能，即让另一个本机程序来解释这个文件的内容。其原理与直接打开一个`.docx`文档相同。

## 2.2 编程语言基础
### 2.2.1 编译型语言和解释型语言
上一节末尾，我们提到了本机程序和另一种类似本机程序的文件（姑且叫做非本机程序），由此可以引出编程语言的两大阵营：编译型语言和解释型语言。编译型语言的最终产物是一个本机程序，解释型语言的最终产物是一个非本机程序。之所以叫做解释型语言，就是因为在编写完成后，需要另一个本机程序来解释它运行。将编译型语言的代码翻译为本机程序的一个特殊的本机程序，是编译器工具链（编译器及其周边组件，如链接器，稍后会详细介绍）。解释解释型语言的代码运行的本机程序，是解释器。编译器和解释器其实都是第一章中所说的那个将高级指令翻译回基础指令的工具。

常见的编译型语言有C、C++、Rust等，常见的解释型语言有Python、JavaScript等。虚拟机语言如C#/.NET、Java/JVM，介于编译型和解释型语言之间，它们的分类仍是个有争议的话题，但多数人将其归为解释型语言。由此可见，编译型语言和解释型语言的分类并不是完全清晰的。
关于虚拟机语言的扩展内容可以参考这篇文章 https://www.iteye.com/blog/rednaxelafx-492667

不难发现，编译型语言更加本质化，所以我们先介绍它。将编译型语言的代码翻译为本机程序是一个复杂的操作，以C++语言为例，它的编译过程如下：
1. 预处理（Preprocess）：预处理器会对源代码进行操作，包括展开一些简写的代码，引入其他文件等。
2. 编译（Compilation）：编译器将预处理后的源代码文件转换为目标代码，通常是汇编语言代码。编译器会进行语法检查，如果程序有语法错误，那么会报出错误（Error）和警告（Warning）.
3. 汇编（Assemble）：汇编过程将汇编代码转换成机器码，产生的文件叫做目标文件，是二进制格式。汇编过程需要为每一个源文件产生一个目标文件。
4. 链接（Link）：链接器将目标文件组织起来，生成可执行文件。链接器会解析目标文件中的符号，将符号引用与符号定义关联起来，生成可执行文件.

解释型语言的运行过程是一个“模拟”的过程，即在运行时，解释器实时地根据代码执行相应的指令。可以这么理解：解释器作为一个本机程序，其中包含了解释型语言所有可能的代码所对应的的基本指令，运行代码时，解释器就根据代码找到对应的基本指令来执行。

### 2.2.2 编程语言的实现
由于编程语言通常只是一个标准，一套规范，它的具体实现依靠不同的编译器或解释器。对于编译型语言来说，不同编译器的差异无非在于其实现编程语言标准之外的扩展内容。如果一份编译型语言的代码完全符合语言标准，那么它理应可以被任何符合规范的编译器编译。解释型语言的不同解释器差异很大，本质上是因为运行的过程就是解释的过程，即解释器和代码在运行时是绑定且相互依靠的。

以典型解释型语言C++为例，它的编译器工具链有以下几种：
- GCC工具链：全称为GNU Compiler Collection，顾名思义，它可以处理C++、Objective-C、Go等语言，它包含预处理器/编译器cc1、汇编程序as、连接器ld（collect2）等工具。它是大多数信息学竞赛的官方编译器工具链，因此广为人知。
- Clang/LLVM工具链：分为前端Clang和后端LLVM（这里指狭义LLVM，广义LLVM包含前端、优化器和后端，Clang是LLVM前端的一种），Clang将C++代码解析为统一的中间代码（IR），LLVM优化器负责优化IR，再交由后端生成本机代码。
- MSVC工具链：微软出品的工具链，通常用于开发Windows应用，它依靠Windows SDK，如果把MSVC理解为工具的话，那么SDK更偏向于工具所需要的物料。

以典型解释型语言Python为例，它的解释器有以下几种：
- CPython：Python官方默认的解释器，由C语言编写，它可以将Python代码编译为中间产物CPython字节码，再解释执行字节码。
- PyPy：著名的CPython替代品，由Python语言编写（事实上是RPython，Python语言的子集，去除了动态类型，详见第四章），它使用即时编译技术（JIT），可以在运行时将 Python 代码动态地编译成机器码，从而提供更高的执行速度，但它与许多使用C语言编写的Python拓展库不兼容，并且由于JIT，它的启动速度较慢。
- Stackless Python：一种 Python 的变体，它是在CPython的基础上进行扩展和改进的版本，提供了一些额外的特征。
- Jython：即Java Python，由Java语言编写。它运行在Java虚拟机（JVM，与下文.NET虚拟机同类，类似于解释器）上，因此提供了与Java的无缝集成。
- IronPython：运行在.NET虚拟机上，它可以与.NET平台无缝集成。


# 3. 从C++开始
> There are only two kinds of languages: the ones people complain about and the ones nobody uses.
> ——Bjarne Stroustrup

## 3.1 万物起源「Hello World」

> 你说的对，但是「C++」是由Bjarne Strou-strup自主研发的一款全新开放世界冒险游戏。  
> ——Anonymous

众所周知，学一门编程语言很显然要学习他的基础。「Hello World」是其一个非常经典的例子。

看下以下代码。

``` C++
// helloworld.cpp (A hello world example for dummies)

#include <iostream>

int main() {
    std::cout << "Hello world" << std::endl;
    return 0;
}
```

_~~笔者认为`using namespace std;`是非常糟糕的practice，在示例里面不是很想用~~_

显然是一段非常intuitive的一段代码，但是为了夯实基础，需要浅浅的解释一下。

- `#include <iostream>`   
是指包括 _\<iostream\>_ 头文件

- `int main() {...}`   
是程序 _entry point_，必须返回 _int_ 类型。函数 _main_ 的内容用两个花括号括起来。

- `std::cout << "Hello world" << std::endl;`   
是输出字符串 _"Hello world"_ 字符串的代码。_std_ 是命名空间。_std::cout_ 显然是指 _std_ 中的 _cout_ 函数。使用 _<<_ operator 连接字符串，可以多次使用连接多个字符串。_std::endl_ 可以**片面**认为是换行。

- `return 0`   
是指 _main_ 函数返回整数 0。（与 _entry point_ ，也就是`int main()`里面的`int`对应）

显然是浅显易懂，简洁明了的一段代码。

对以上代码稍作修改，可以**充分**体验到C++的魅力。例如：

``` C++
// helloworld2.cpp (An example use of std::cout)

#include <iostream>

int main() {
    std::cout << "You're right, " << "\n";
    std::cout << "but" << "the C++ programming language" << "is a new, open-world adventure game solely developed by Bjarne Strou-strup." << std::endl;
    return 0;
}

```

……也就是本课的引言。

### 习题

1. 写一段 _C++_ 程序，使得此程序输出以下内容。~~（经典老题）~~

``` text
I love playing
Genshin
Impact
```

# -1. 结语
编程是一项需要不断学习和实践的技能。希望读者能够通过本书掌握编程的基本技能，并在未来的学习和工作中有所收获。

## -1.1 编者的话
在编写本书的过程中，参考了大量优秀的编程教材和资源。同时也结合了自己的学习经验，希望能够为读者提供一本系统、实用、易学的编程教材。

在本书的编写过程中，编者得到了许多人的帮助，在此向他们表示衷心的感谢。

最后，祝愿读者在编程学习的道路上取得成功！